
:source-highlighter: coderay
:generated-image-format: svg

[source, c]
----
int main(void) {
    printf("hello, world\n");
    return 0;
}
----

ifdef::env-html[]
image::./foo.svg[opts=interactive]
endif::[]

ifdef::env-vscode[]
[mermaid, foo, svg]
....
sequenceDiagram
    Alice->>Bob: Hello Bob, how are youbbb?
    alt is sick
        Bob->>Alice: Not so good :(
    else is well
        Bob->>Alice: Feeling fresh like a daisy
    end
    opt Extra response
        Bob->>Alice: Thanks for asking
    end
....
endif::[]


ifdef::env-html[]
image::./bar.svg[opts=interactive]
endif::[]

ifdef::env-vscode[]
[nomnoml, bar, svg]
....
[Pirate|eyeCount: Int|raid();pillage()|
  [beard]--[parrot]
  [beard]-:>[foul mouth]
]

[<abstract>Marauder]<:--[Pirate]
[Pirate]- 0..7[mischief]
[jollyness]->[Pirate]
[jollyness]->[rum]
[jollyness]->[singing]
[Pirate]-> *[rum|tastiness: Int|swig()]
[Pirate]->[singing]
[singing]<->[rum]

[<start>st]->[<state>plunder]
[plunder]->[<choice>more loot]
[more loot]->[st]
[more loot] no ->[<end>e]

[<actor>Sailor] - [<usecase>shiver me;timbers]
....
endif::[]

....
asciidoctor -a env-html -a outdir=tmp -a imagesdir=tmp -a imagesoutdir=tmp -r asciidoctor-diagram Untitled-1.adoc

asciidoctor -a env-vscode -a outdir=.adoc -a imagesdir=.adoc -a imagesoutdir=.adoc -r asciidoctor-diagram -o-
....
